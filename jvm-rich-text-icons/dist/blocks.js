(()=>{"use strict";var e={n:t=>{var i=t&&t.__esModule?()=>t.default:()=>t;return e.d(i,{a:i}),i},d:(t,i)=>{for(var n in i)e.o(i,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:i[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.i18n,i=window.wp.richText,n=window.wp.element,s=window.wp.blocks,o=window.wp.blockEditor,r=window.wp.components,l=window.wp.domReady;var a=e.n(l);const c=window.wp.compose,d=window.ReactJSXRuntime;function u({icons:e,classPrefix:i,selectedIcon:s,onSelect:o}){const[l,a]=(0,n.useState)(""),c=(0,n.useMemo)(()=>{if(!l)return e;const t=l.toLowerCase();return e.filter(e=>-1!==e.toLowerCase().indexOf(t))},[e,l]);return(0,d.jsxs)("div",{className:"jvm-richtext-icons-picker",children:[(0,d.jsx)(r.TextControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,value:l,placeholder:(0,t.__)("Search","jvm-richtext-icons"),onChange:a}),(0,d.jsx)("div",{className:"jvm-richtext-icons-panel",children:c.length>0?(0,d.jsx)("ul",{className:"jvm-richtext-icons-list",children:c.map(e=>(0,d.jsx)("li",{"data-key":e,children:(0,d.jsx)(r.Tooltip,{text:e,children:(0,d.jsx)(r.Button,{isTertiary:!0,className:e===s?"is-selected":"",onClick:()=>o(e),children:(0,d.jsx)("i",{className:i+" "+e,"aria-hidden":"true"})})})},e))}):(0,d.jsx)("p",{children:(0,t.__)("No icons found.","jvm-richtext-icons")})})]})}let h=jvm_richtext_icon_settings.iconset,p=jvm_richtext_icon_settings.base_class;class x extends n.Component{constructor(){super(...arguments),this.toggle=this.toggle.bind(this),this.state={isOpen:!1}}toggle(){this.setState(e=>({isOpen:!e.isOpen}))}render(){const{isOpen:e}=this.state,{name:s,value:l,onChange:a}=this.props;return(0,d.jsx)(n.Fragment,{children:(0,d.jsx)(o.BlockControls,{children:(0,d.jsxs)(r.ToolbarGroup,{children:[(0,d.jsx)(r.ToolbarButton,{icon:"flag","aria-haspopup":"true",label:(0,t.__)("Insert Icon","jvm-richtext-icons"),onClick:this.toggle}),e&&(0,d.jsx)(r.Popover,{className:"jvm-richtext-icons-popover",position:"bottom left",onClick:()=>{},expandOnMobile:!1,headerTitle:(0,t.__)("Insert Icon","jvm-richtext-icons"),onClose:()=>{a((0,i.toggleFormat)(l,{type:s}))},children:(0,d.jsx)(u,{icons:h,classPrefix:p,onSelect:e=>{let t=(0,i.create)({html:'<i class="'+p+" "+e+'" aria-hidden="true"> </i>'});a((0,i.insert)(l,t)),this.toggle()}})},"icon-popover")]})})})}}const m=(0,c.compose)()(x),g=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"jvm/single-icon","title":"Single icon","icon":"flag","category":"common","keywords":["Icon"],"supports":{"color":{"text":true,"background":true,"link":false},"spacing":{"padding":true,"margin":true,"__experimentalDefaultControls":{"margin":false,"padding":false}},"typography":{"textAlign":true},"__experimentalBorder":{"color":true,"radius":true,"style":true,"width":true,"__experimentalDefaultControls":{"color":true,"radius":true,"style":true,"width":true}}},"attributes":{"icon":{"type":"string"},"fontSize":{"type":"number"},"url":{"type":"string"},"linkTarget":{"type":"string"},"rel":{"type":"string"}}}'),v=(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",children:(0,d.jsx)("path",{d:"M15.6 7.2H14v1.5h1.6c2 0 3.7 1.7 3.7 3.7s-1.7 3.7-3.7 3.7H14v1.5h1.6c2.8 0 5.2-2.3 5.2-5.2 0-2.9-2.3-5.2-5.2-5.2zm-7.2 0H10v1.5H8.4c-2 0-3.7 1.7-3.7 3.7s1.7 3.7 3.7 3.7H10v1.5H8.4C5.6 17.6 3.2 15.3 3.2 12.4c0-2.9 2.3-5.2 5.2-5.2zM8 11.5h8V13H8z"})}),j=(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",children:(0,d.jsx)("path",{d:"M17.7 6.3l-1 1c.3.3.5.6.7.9.4.8.5 1.6.3 2.4-.2.8-.7 1.5-1.4 2l-3 2.1c-.5.4-1.1.6-1.7.6-.9 0-1.7-.4-2.3-1.1l-1 1c.8 1 2 1.6 3.3 1.6.9 0 1.8-.3 2.6-.8l3-2.1c1-.7 1.7-1.8 2-3 .2-1.2 0-2.4-.6-3.5-.2-.4-.5-.8-.9-1.1zM6.4 17.7l1-1c-.3-.3-.5-.6-.7-.9-.4-.8-.5-1.6-.3-2.4.2-.8.7-1.5 1.4-2l3-2.1c.5-.4 1.1-.6 1.7-.6.9 0 1.7.4 2.3 1.1l1-1c-.8-1-2-1.6-3.3-1.6-.9 0-1.8.3-2.6.8l-3 2.1c-1 .7-1.7 1.8-2 3-.2 1.2 0 2.4.6 3.5.2.4.5.8.9 1.1zM15 11H9v1.5h6V11z"})}),_="jvm/insert-icons",b={name:_,title:(0,t.__)("Insert Icon","jvm-richtext-icons"),tagName:"i",className:null,edit:({isOpen:e,value:t,onChange:i,activeAttributes:s})=>(0,d.jsx)(n.Fragment,{children:(0,d.jsx)(m,{name:_,isOpen:e,value:t,onChange:i,activeAttributes:s})})};a()(function(){[b].forEach(({name:e,...t})=>{e&&(0,i.registerFormatType)(e,t)})}),(0,s.registerBlockType)(g.name,{...g,edit:e=>{let i=jvm_richtext_icon_settings.iconset,s="",l=32,a=jvm_richtext_icon_settings.base_class;void 0!==e.attributes.icon?s=e.attributes.icon:void 0!==i[0]&&(s=i[0]),void 0!==e.attributes.fontSize&&(l=e.attributes.fontSize),e.setAttributes({icon:s,fontSize:l});let c=a+" "+e.attributes.icon,h={fontSize:e.attributes.fontSize+"px"};const p=(0,o.useBlockProps)(),[x,m]=(0,n.useState)(!1),{url:g,linkTarget:_,rel:b}=e.attributes,w=!!g,f="_blank"===_,k=(0,d.jsx)("i",{className:c,"aria-hidden":"true",style:h,children:" "});return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o.BlockControls,{children:(0,d.jsx)(r.ToolbarGroup,{children:(0,d.jsx)(r.ToolbarButton,{icon:w?j:v,label:w?(0,t.__)("Remove link","jvm-rich-text-icons"):(0,t.__)("Add link","jvm-rich-text-icons"),onClick:()=>{w?(e.setAttributes({url:void 0,linkTarget:void 0,rel:void 0}),m(!1)):m(!0)},isActive:w})})}),x&&(0,d.jsx)(r.Popover,{placement:"bottom",onClose:()=>m(!1),focusOnMount:"firstElement",children:(0,d.jsx)(o.__experimentalLinkControl,{value:{url:g,opensInNewTab:f},onChange:({url:t,opensInNewTab:i})=>{e.setAttributes({url:t,linkTarget:i?"_blank":void 0,rel:i?"noreferrer noopener":void 0})},onRemove:()=>{e.setAttributes({url:void 0,linkTarget:void 0,rel:void 0}),m(!1)}})}),(0,d.jsx)(o.InspectorControls,{children:(0,d.jsxs)(r.PanelBody,{label:(0,t.__)("Icon"),children:[(0,d.jsx)(u,{icons:i,classPrefix:a,selectedIcon:s,onSelect:t=>e.setAttributes({icon:t})}),(0,d.jsx)(r.RangeControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:(0,t.__)("Font Size (px)"),value:l,min:10,max:200,onChange:t=>{t&&e.setAttributes({fontSize:t})}})]})}),(0,d.jsx)("div",{...p,children:w?(0,d.jsx)("a",{href:g,target:_,rel:b,onClick:e=>e.preventDefault(),children:k}):k})]})},save:e=>{const t=o.useBlockProps.save();let i=jvm_richtext_icon_settings.base_class+" "+e.attributes.icon,n={fontSize:e.attributes.fontSize+"px"};const{url:s,linkTarget:r,rel:l}=e.attributes,a=(0,d.jsx)("i",{className:i,"aria-hidden":"true",style:n,children:" "});return(0,d.jsx)("div",{...t,children:s?(0,d.jsx)("a",{href:s,target:r,rel:l,children:a}):a})}})})();